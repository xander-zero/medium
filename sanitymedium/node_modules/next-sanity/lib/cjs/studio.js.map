{"mappings":"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","sources":["src/studio.ts","src/studio/index.ts","src/studio/NextStudio.tsx","src/studio/NextStudioGlobalStyle.ts","src/studio/NextStudioHead.tsx","node_modules/@parcel/runtime-js/lib/runtime-ef9b7f9202d9a806.js","node_modules/@parcel/runtime-js/lib/runtime-0bfed5d474c54129.js","node_modules/@parcel/runtime-js/lib/runtime-611c430ae589140e.js","node_modules/@parcel/runtime-js/lib/runtime-2afc5d6315990f14.js","node_modules/@parcel/runtime-js/lib/runtime-2f5b0c062978bd21.js","src/studio/webmanifest.json","src/studio/NextStudioNoScript.tsx","src/studio/ServerStyleSheetDocument.tsx","src/studio/utils.ts"],"sourcesContent":["export * from './studio/index'\n","export * from './NextStudio'\nexport * from './NextStudioGlobalStyle'\nexport * from './NextStudioHead'\nexport * from './NextStudioNoScript'\nexport * from './ServerStyleSheetDocument'\nexport * from './utils'\n","import {memo} from 'react'\nimport {type StudioProps, Studio} from 'sanity'\n\nimport {\n  type NextStudioHeadProps,\n  NextStudioGlobalStyle,\n  NextStudioGlobalStyleProps,\n  NextStudioHead,\n  NextStudioNoScript,\n  useBackgroundColorsFromTheme,\n  useTheme,\n} from '.'\n\nexport interface NextStudioProps extends StudioProps {\n  /**\n   * Override how the Studio renders by passing children.\n   * This is useful for advanced use cases where you're using StudioProvider and StudioLayout instead of Studio:\n   * import {StudioProvider, StudioLayout} from 'sanity'\n   * import {NextStudio} from 'next-sanity/studio'\n   * <NextStudio config={config}>\n   *   <StudioProvider config={config}>\n   *     <CustomComponentThatUsesContextFromStudioProvider />\n   *     <StudioLayout />\n   *   </StudioProvider>\n   * </NextStudio>\n   */\n  children?: React.ReactNode\n  /**\n   * Turns off the default global styling\n   */\n  unstable__noGlobalStyle?: boolean\n  /**\n   * Apply fix with SVG icon centering that happens if TailwindCSS is loaded, on by defautl\n   */\n  unstable__noTailwindSvgFix?: NextStudioGlobalStyleProps['unstable__tailwindSvgFix']\n  /**\n   * Add stuff to the head with next/head\n   */\n  unstable__head?: NextStudioHeadProps['children']\n  /**\n   * Sets the document title\n   */\n  unstable__document_title?: NextStudioHeadProps['title']\n  /**\n   * Sets the background color of <html>\n   */\n  unstable__bg?: NextStudioGlobalStyleProps['bg']\n  /**\n   * Don't load the favicon meta tags\n   */\n  unstable__noFavicons?: boolean\n  /**\n   * Don't render the <noscript> tag\n   */\n  unstable__noNoScript?: boolean\n}\n/**\n * Intended to render at the root of a page, letting the Studio own that page and render much like it would if you used `npx sanity start` to render\n * It's a drop-in replacement for `import {Studio} from 'sanity'`\n */\nconst NextStudioComponent = ({\n  children,\n  config,\n  unstable__noGlobalStyle,\n  unstable__noTailwindSvgFix,\n  unstable__head,\n  unstable__document_title,\n  unstable__bg,\n  unstable__noFavicons,\n  unstable__noNoScript,\n  ...props\n}: NextStudioProps) => {\n  const theme = useTheme(config)\n  const {themeColorLight, themeColorDark} = useBackgroundColorsFromTheme(theme)\n  return (\n    <>\n      {children || <Studio config={config} {...props} />}\n      <NextStudioHead\n        themeColorLight={themeColorLight}\n        themeColorDark={themeColorDark}\n        title={unstable__document_title}\n        favicons={!unstable__noFavicons}\n      >\n        {unstable__head}\n      </NextStudioHead>\n      {!unstable__noGlobalStyle && (\n        <NextStudioGlobalStyle\n          bg={unstable__bg ?? themeColorLight}\n          unstable__tailwindSvgFix={!unstable__noTailwindSvgFix}\n        />\n      )}\n      {!unstable__noNoScript && <NextStudioNoScript />}\n    </>\n  )\n}\nexport const NextStudio = memo(NextStudioComponent)\n","import {createGlobalStyle, css} from 'styled-components'\n\nexport interface NextStudioGlobalStyleProps {\n  bg?: string\n  unstable__tailwindSvgFix?: boolean\n}\nexport const NextStudioGlobalStyle = createGlobalStyle<NextStudioGlobalStyleProps>`\n${({bg}) =>\n  bg\n    ? css`\n        html {\n          background-color: ${bg};\n        }\n      `\n    : ''}\nhtml,\nbody,\n#__next {\n  height: 100%;\n}\nbody {\n  margin: 0;\n  overscroll-behavior: none;\n  -webkit-font-smoothing: antialiased;\n}\n${({unstable__tailwindSvgFix}) =>\n  unstable__tailwindSvgFix\n    ? css`\n        /* override tailwind reset */\n        :root svg {\n          display: inline;\n        }\n      `\n    : ''}`\n","/* eslint-disable no-process-env */\nimport Head from 'next/head'\nimport {type ComponentProps, memo, useCallback} from 'react'\n\n// @ts-ignore\nimport iconApple from './apple-touch-icon.png'\n// @ts-ignore\nimport iconIco from './favicon.ico'\n// @ts-ignore\nimport iconSvg from './favicon.svg'\n// @ts-ignore\nimport icon192 from './favicon-192.png'\n// @ts-ignore\nimport icon512 from './favicon-512.png'\nimport type {MetaThemeColors} from './utils'\nimport webmanifest from './webmanifest.json'\n\n// Interop between how Parcel and Next deals with asset imports\nconst interop = (href: string | {src: string}): string =>\n  typeof href === 'string' ? href : href.src\n\nexport interface NextStudioHeadProps extends Partial<MetaThemeColors> {\n  children?: ComponentProps<typeof Head>['children']\n  title?: string\n  favicons?: boolean\n}\nconst NextStudioHeadComponent = ({\n  children,\n  themeColorDark,\n  themeColorLight,\n  title = 'Sanity Studio',\n  favicons,\n}: NextStudioHeadProps) => {\n  const inlineWebmanifest = useCallback(() => {\n    const manifest = JSON.parse(JSON.stringify(webmanifest))\n    const icons = manifest.icons.map((icon: any) => {\n      // Inline manifests works best when URLs are absolute\n      const src =\n        // eslint-disable-next-line no-nested-ternary\n        icon.src === './favicon-192.png'\n          ? interop(icon192)\n          : icon.src === './favicon-512.png'\n          ? interop(icon512)\n          : icon.src\n      return {\n        ...icon,\n        src: process.env.NEXT_PUBLIC_VERCEL_URL\n          ? new URL(src, `https://${process.env.NEXT_PUBLIC_VERCEL_URL}`).toString()\n          : src,\n      }\n    })\n    return `data:application/manifest+json,${encodeURIComponent(\n      JSON.stringify({...manifest, icons})\n    )}`\n  }, [])\n\n  return (\n    <Head>\n      <meta\n        name=\"viewport\"\n        // Studio implements display cutouts CSS (The iPhone Notch ™ ) and needs `viewport-fit=covered` for it to work correctly\n        content=\"width=device-width, initial-scale=1, viewport-fit=cover\"\n      />\n      <meta name=\"robots\" content=\"noindex\" />\n      <meta name=\"referrer\" content=\"same-origin\" />\n      {title && <title>{title}</title>}\n      {favicons && <link rel=\"icon\" href={interop(iconIco)} sizes=\"any\" />}\n      {favicons && <link rel=\"icon\" href={interop(iconSvg)} type=\"image/svg+xml\" />}\n      {favicons && <link rel=\"apple-touch-icon\" href={interop(iconApple)} />}\n      {favicons && (\n        <link\n          rel=\"manifest\"\n          // eslint-disable-next-line no-warning-comments\n          // @TODO until parcel fixes https://github.com/parcel-bundler/parcel/issues/8025 and stops stripping process.env.NEXT_PUBLIC_VERCEL_URL from the compiled code, use the remove webmanifest\n          href={\n            process.env.NEXT_PUBLIC_VERCEL_URL\n              ? inlineWebmanifest()\n              : 'https://next.sanity.build/manifest.webmanifest'\n          }\n        />\n      )}\n      {/* These theme-color tags makes the Studio look really really good on devices like iPads as the browser chrome adopts the Studio background */}\n      {themeColorLight && (\n        <meta\n          key=\"theme-color-light\"\n          name=\"theme-color\"\n          content={themeColorLight}\n          media=\"(prefers-color-scheme: light)\"\n        />\n      )}\n      {themeColorDark && (\n        <meta\n          key=\"theme-color-dark\"\n          name=\"theme-color\"\n          content={themeColorDark}\n          media=\"(prefers-color-scheme: dark)\"\n        />\n      )}\n      {children}\n    </Head>\n  )\n}\n\nexport const NextStudioHead = memo(NextStudioHeadComponent)\n","module.exports = new __parcel__URL__(\"apple-touch-icon.abc4aca2.png\").toString();","module.exports = new __parcel__URL__(\"favicon.648fc2f2.ico\").toString();","module.exports = new __parcel__URL__(\"favicon.8f76876f.svg\").toString();","module.exports = new __parcel__URL__(\"favicon-192.40c8bab4.png\").toString();","module.exports = new __parcel__URL__(\"favicon-512.5e08f951.png\").toString();","{\n  \"icons\": [\n    {\n      \"src\": \"./favicon-192.png\",\n      \"type\": \"image/png\",\n      \"sizes\": \"192x192\"\n    },\n    {\n      \"src\": \"./favicon-512.png\",\n      \"type\": \"image/png\",\n      \"sizes\": \"512x512\"\n    }\n  ]\n}\n","/* eslint-disable react/no-danger */\n\nconst style = {\n  __html: `\n.sanity-app-no-js__root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.sanity-app-no-js__content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`,\n} as const\n\nexport const NextStudioNoScript = () => (\n  <noscript>\n    <div className=\"sanity-app-no-js__root\">\n      <div className=\"sanity-app-no-js__content\">\n        <style type=\"text/css\" dangerouslySetInnerHTML={style} />\n        <h1>JavaScript disabled</h1>\n        <p>\n          Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n          browser and reload the page to proceed.\n        </p>\n      </div>\n    </div>\n  </noscript>\n)\n","// We can disable this rule safely as we're not trying to use it outside pages/document, we're shipping a wrapper\n// eslint-disable-next-line @next/next/no-document-import-in-page\nimport Document, {type DocumentContext} from 'next/document'\nimport {ServerStyleSheet} from 'styled-components'\n\n/**\n * Usage, from a pages/_document.tsx file:\n * import {ServerStyleSheetDocument} from 'next-sanity/studio'\n *\n * export default class MyDocument extends ServerStyleSheetDocument {}\n *\n * To do extra stuff in getInitialProps:\n * import {ServerStyleSheetDocument} from 'next-sanity/studio'\n * import { type DocumentContext } from 'next/document'\n *\n * export default class MyDocument extends ServerStyleSheetDocument {\n *  static async getInitialProps(ctx: DocumentContext) {\n *    // You can still override renderPage:\n *    const originalRenderPage = ctx.renderPage\n *    ctx.renderPage = () => originalRenderPage({\n *       enhanceApp: (App) => (props) => <App {...props} />\n *    })\n *\n *    const initialProps = await ServerStyleSheetDocument.getInitialProps(ctx)\n *    const extraStyles = await getStyles()\n *    return {\n *      ...initialProps,\n *      styles: [initialProps.styles, extraStyles],\n *    }\n *  }\n * }\n */\n\nexport class ServerStyleSheetDocument extends Document {\n  static async getInitialProps(ctx: DocumentContext) {\n    const sheet = new ServerStyleSheet()\n    const originalRenderPage = ctx.renderPage\n\n    try {\n      ctx.renderPage = () =>\n        originalRenderPage({\n          enhanceApp: (App) => (props) => sheet.collectStyles(<App {...props} />),\n        })\n\n      const initialProps = await Document.getInitialProps(ctx)\n      return {\n        ...initialProps,\n        styles: [initialProps.styles, sheet.getStyleElement()],\n      }\n    } finally {\n      sheet.seal()\n    }\n  }\n}\n","import {useRouter} from 'next/router'\nimport {useMemo} from 'react'\nimport {\n  type Config,\n  type SingleWorkspace,\n  type StudioTheme,\n  type WorkspaceOptions,\n  defaultTheme,\n} from 'sanity'\n\nexport type WithTheme = {\n  theme: StudioTheme\n}\nexport type SingleWorkspaceWithTheme = Omit<SingleWorkspace, 'theme'> & WithTheme\nexport type WorkspaceOptionsWithTheme = Omit<WorkspaceOptions, 'theme'> & WithTheme\nexport type ConfigWithTheme = SingleWorkspaceWithTheme | WorkspaceOptionsWithTheme[]\n\nexport function isWorkspaces(config: Config): config is WorkspaceOptions[] {\n  return Array.isArray(config)\n}\n\nexport function isWorkspaceWithTheme(\n  workspace: SingleWorkspace | WorkspaceOptions\n): workspace is SingleWorkspaceWithTheme | WorkspaceOptionsWithTheme {\n  return Boolean(workspace.theme)\n}\n\nexport function useTheme(config: Config): StudioTheme {\n  const workspace = useMemo<SingleWorkspace | WorkspaceOptions>(\n    () => (isWorkspaces(config) ? config[0] : config),\n    [config]\n  )\n  return useMemo<StudioTheme>(\n    () => (isWorkspaceWithTheme(workspace) ? workspace.theme : defaultTheme),\n    [workspace]\n  )\n}\n\nexport type MetaThemeColors = {\n  themeColorLight: string\n  themeColorDark: string\n}\nexport const useBackgroundColorsFromTheme = (theme: StudioTheme): MetaThemeColors => {\n  return useMemo<MetaThemeColors>(\n    () => ({\n      themeColorLight: theme.color.light.default.base.bg,\n      themeColorDark: theme.color.dark.default.base.bg,\n    }),\n    [theme]\n  )\n}\n\n/**\n * Parses the next route to determine the what the base path for Sanity Studio should be\n */\nexport function useBasePath(): string {\n  const router = useRouter()\n  return useMemo(() => {\n    const [basePath = '/'] = router.route.split('/[')\n    return basePath\n  }, [router.route])\n}\n\nexport interface WorkspaceWithBasePath extends Omit<WorkspaceOptions, 'basePath'> {\n  basePath: string\n}\nexport type SingleWorkspaceWithBasePath = Omit<SingleWorkspace, 'basePath'> & {basePath: string}\nexport type ConfigWithBasePath = SingleWorkspaceWithBasePath | WorkspaceOptions[]\n/**\n * Apply the base path from next to the config, prefixing any defined base path\n */\nexport function useConfigWithBasePath(config: Config): ConfigWithBasePath {\n  const basePath = useBasePath()\n  return useMemo(() => {\n    if (isWorkspaces(config)) {\n      return config.map((workspace) => ({\n        ...workspace,\n        basePath: workspace.basePath === '/' ? basePath : `${basePath}${workspace.basePath}`,\n      }))\n    }\n    return {\n      ...config,\n      basePath: config.basePath === '/' ? basePath : `${basePath}${config.basePath || ''}`,\n    }\n  }, [config, basePath])\n}\n"],"names":[],"version":3,"file":"studio.js.map"}